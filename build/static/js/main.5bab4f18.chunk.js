(this["webpackJsonpapp-servicio"] = this["webpackJsonpapp-servicio"] || []).push([[0], { 53: function (e, t, n) { }, 54: function (e, t, n) { }, 55: function (e, t, n) { }, 83: function (e, t, n) { "use strict"; n.r(t); var r = n(0), c = n.n(r), a = n(23), i = n.n(a), o = (n(53), n(7)), s = n(8), l = n(10), j = n(9), d = (n(54), n(55), n(87)), h = n(85), b = n(89), u = n(88), p = n(1), O = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; Object(o.a)(this, n); for (var r = arguments.length, c = new Array(r), a = 0; a < r; a++)c[a] = arguments[a]; return (e = t.call.apply(t, [this].concat(c))).inicioSesion = function () { window.location.href = "/iniciosesion" }, e.home = function () { window.location.href = "/" }, e.registro = function () { window.location.href = "/registro" }, e } return Object(s.a)(n, [{ key: "render", value: function () { return Object(p.jsx)("div", { children: Object(p.jsxs)(d.a, { bg: "dark", expand: "lg", children: [Object(p.jsx)(h.a, { onClick: this.home, variant: "btn btn-dark ", children: "Servicio Salud" }), Object(p.jsx)(d.a.Toggle, { "aria-controls": "basic-navbar-nav" }), Object(p.jsxs)(d.a.Collapse, { id: "basic-navbar-nav", children: [Object(p.jsx)(b.a, { className: "mr-auto" }), Object(p.jsx)(u.a, { inline: !0, children: Object(p.jsx)(h.a, { onClick: this.inicioSesion, variant: "outline-primary mx-1", children: "Incio Sesi\xf3n" }) })] })] }) }) } }]), n }(c.a.Component), x = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { return Object(o.a)(this, n), t.apply(this, arguments) } return Object(s.a)(n, [{ key: "render", value: function () { return Object(p.jsxs)("div", { children: [Object(p.jsx)(O, {}), Object(p.jsxs)("section", { className: "hero pt-3", children: [Object(p.jsx)("div", { children: Object(p.jsx)("header", { children: Object(p.jsx)("h1", { className: "titulo ", children: "CALI SALUD" }) }) }), Object(p.jsx)("div", { className: "nav-bg", children: Object(p.jsx)("nav", { className: "navegacion-principal contenedor" }) }), Object(p.jsx)("div", { className: "my-5", children: Object(p.jsx)("h2", { children: "Somos los mejores en prestasion de servicios de salud" }) }), Object(p.jsx)("div", { className: "contenido-hero  d-flex justify-content-center" })] })] }) } }]), n }(c.a.Component), v = n(11), m = n.n(v), f = n(17), g = n(90), y = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; return Object(o.a)(this, n), (e = t.call(this)).Login = function () { var t = Object(f.a)(m.a.mark((function t(n, r) { var c; return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return console.log(e.state.correo, e.state.password), c = { correo: e.state.correo, contrasenia: e.state.password }, "http://localhost:4000/api/usuario/login", t.next = 5, fetch("http://localhost:4000/api/usuario/login", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(c) }).then((function (e) { return e.json() })).then((function (e) { console.log(e); var t = e.rows[0]; console.log(t), t ? (console.log(t.rol), "administrador" === t.rol ? window.location.href = "administrador" : window.location.href = "usuario") : alert("Credenciales incorrectas") })).catch((function (e) { console.log(e) })); case 5: case "end": return t.stop() } }), t) }))); return function (e, n) { return t.apply(this, arguments) } }(), e.state = { correo: "", password: "" }, e } return Object(s.a)(n, [{ key: "render", value: function () { var e = this; return Object(p.jsxs)("div", { children: [Object(p.jsx)(O, {}), Object(p.jsx)("div", { className: " container  mt-5", children: Object(p.jsxs)("div", { className: "row", children: [Object(p.jsx)("div", { className: "col-sm-4" }), Object(p.jsx)("div", { className: "col-sm-4", children: Object(p.jsx)(g.a, { children: Object(p.jsxs)(g.a.Body, { children: [Object(p.jsx)(g.a.Title, { children: "INICIO SESI\xd3N" }), Object(p.jsxs)(u.a, { children: [Object(p.jsxs)(u.a.Group, { controlId: "formBasicEmail", children: [Object(p.jsx)(u.a.Label, { children: "Correo:" }), Object(p.jsx)(u.a.Control, { value: this.state.correo, onChange: function (t) { return e.setState({ correo: t.target.value }) }, type: "email", placeholder: "Ingrese Correo" })] }), Object(p.jsxs)(u.a.Group, { controlId: "formBasicPassword", children: [Object(p.jsx)(u.a.Label, { children: "Contrase\xf1a:" }), Object(p.jsx)(u.a.Control, { value: this.state.password, onChange: function (t) { return e.setState({ password: t.target.value }) }, type: "password", placeholder: "Ingrese Password" })] }), Object(p.jsx)(h.a, { className: "mx-1", variant: "primary", type: "button", onClick: this.Login, children: "Ingresar" })] })] }) }) }), Object(p.jsx)("div", { className: "col-sm-4" })] }) })] }) } }]), n }(c.a.Component), C = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; return Object(o.a)(this, n), (e = t.call(this)).crearUsuario = Object(f.a)(m.a.mark((function t() { var n; return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n = { nombre: e.state.nombre, apellido: e.state.apellido, correo: e.state.correo, contrasenia: e.state.contrasenia, rol: e.state.rol }, e.state.nombre && e.state.apellido && e.state.correo && e.state.contrasenia && e.state.rol) { t.next = 5; break } alert("Faltan Datos por Registrar"), t.next = 8; break; case 5: return "http://localhost:4000/api/usuario", t.next = 8, fetch("http://localhost:4000/api/usuario", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(n) }).then((function (e) { return e.json() })).then((function (e) { console.log(e), window.location.href = "inicioSesion" })).catch((function (e) { console.log(e) })); case 8: case "end": return t.stop() } }), t) }))), e.state = { nombre: "", apellido: "", correo: "", contrasenia: "", rol: "administrador" }, e } return Object(s.a)(n, [{ key: "render", value: function () { var e = this; return Object(p.jsxs)("div", { children: [Object(p.jsx)(O, {}), Object(p.jsx)("div", { className: " container  mt-5", children: Object(p.jsxs)("div", { className: "row", children: [Object(p.jsx)("div", { className: "col-sm-4" }), Object(p.jsx)("div", { className: "col-sm-4", children: Object(p.jsx)(g.a, { children: Object(p.jsxs)(g.a.Body, { children: [Object(p.jsx)(g.a.Title, { children: "REGISTRO" }), Object(p.jsxs)(u.a, { children: [Object(p.jsxs)(u.a.Group, { controlId: "formBasicCorreo", children: [Object(p.jsx)(u.a.Label, { children: "Nombre:" }), Object(p.jsx)(u.a.Control, { onChange: function (t) { return e.setState({ nombre: t.target.value }) }, type: "text", placeholder: "Enter name" })] }), Object(p.jsxs)(u.a.Group, { controlId: "formBasicApellidos", children: [Object(p.jsx)(u.a.Label, { children: "Apellidos:" }), Object(p.jsx)(u.a.Control, { onChange: function (t) { return e.setState({ apellido: t.target.value }) }, type: "text", placeholder: "Enter Apellido" })] }), Object(p.jsxs)(u.a.Group, { controlId: "formBasicEmail", children: [Object(p.jsx)(u.a.Label, { children: "Correo:" }), Object(p.jsx)(u.a.Control, { onChange: function (t) { return e.setState({ correo: t.target.value }) }, type: "email", placeholder: "Enter email" })] }), Object(p.jsxs)(u.a.Group, { controlId: "formBasicPassword", children: [Object(p.jsx)(u.a.Label, { children: "Contrase\xf1a:" }), Object(p.jsx)(u.a.Control, { onChange: function (t) { return e.setState({ contrasenia: t.target.value }) }, type: "password", placeholder: "Password" })] }), Object(p.jsxs)(u.a.Control, { as: "select", onChange: function (t) { return e.setState({ rol: t.target.value }) }, children: [Object(p.jsx)("option", { children: "administrador" }), Object(p.jsx)("option", { children: "usuario" })] }), Object(p.jsx)(h.a, { onClick: this.crearUsuario, className: "mt-3", variant: "primary", type: "submit", children: "Registrar" })] })] }) }) }), Object(p.jsx)("div", { className: "col-sm-4" })] }) })] }) } }]), n }(c.a.Component), w = n(86), S = n(27), k = n.n(S), N = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; Object(o.a)(this, n); for (var r = arguments.length, c = new Array(r), a = 0; a < r; a++)c[a] = arguments[a]; return (e = t.call.apply(t, [this].concat(c))).home = function () { window.location.href = "/" }, e.cerrarSesion = function () { window.location.href = "/" }, e } return Object(s.a)(n, [{ key: "render", value: function () { return Object(p.jsx)("div", { children: Object(p.jsxs)(d.a, { bg: "dark", expand: "lg", children: [Object(p.jsx)(h.a, { onClick: this.home, variant: "btn btn-dark ", children: "Servicio Salud" }), Object(p.jsx)(d.a.Toggle, { "aria-controls": "basic-navbar-nav" }), Object(p.jsxs)(d.a.Collapse, { id: "basic-navbar-nav", children: [Object(p.jsx)(b.a, { className: "mr-auto" }), Object(p.jsx)(u.a, { inline: !0, children: Object(p.jsx)(h.a, { onClick: this.cerrarSesion, variant: "outline-danger", children: "Cerrar sesion" }) })] })] }) }) } }]), n }(c.a.Component), I = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; return Object(o.a)(this, n), (e = t.call(this)).consultarServicios = Object(f.a)(m.a.mark((function t() { return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e.setState({ list: [] }), "http://localhost:4000/api/servicio", t.next = 4, k.a.get("http://localhost:4000/api/servicio").then((function (t) { e.setState({ list: t.data.rows }) })); case 4: case "end": return t.stop() } }), t) }))), e.state = { id: "", nombre: "", tipo: "", descripcion: "", list: [] }, e } return Object(s.a)(n, [{ key: "componentDidMount", value: function () { this.consultarServicios() } }, { key: "render", value: function () { return Object(p.jsxs)("div", { children: [Object(p.jsx)(N, {}), Object(p.jsxs)("div", { className: "container   mt-5", children: [Object(p.jsx)("h1", { children: "Usuario" }), Object(p.jsx)("div", { className: "row", children: Object(p.jsxs)(w.a, { striped: !0, bordered: !0, hover: !0, variant: "table table-dark", children: [Object(p.jsx)("thead", { children: Object(p.jsxs)("tr", { children: [Object(p.jsx)("th", { children: "Id" }), Object(p.jsx)("th", { children: "Name" }), Object(p.jsx)("th", { children: "Tipo" }), Object(p.jsx)("th", { children: "Descripcion" })] }) }), Object(p.jsx)("tbody", { children: this.state.list.map((function (e) { return Object(p.jsxs)("tr", { children: [Object(p.jsx)("th", { children: e.id }), Object(p.jsx)("th", { children: e.nombre }), Object(p.jsx)("th", { children: e.tipo_servicio }), Object(p.jsx)("th", { children: e.descripcion })] }, e.id) })) })] }) })] })] }) } }]), n }(c.a.Component), T = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; Object(o.a)(this, n); for (var r = arguments.length, c = new Array(r), a = 0; a < r; a++)c[a] = arguments[a]; return (e = t.call.apply(t, [this].concat(c))).home = function () { window.location.href = "/" }, e.cerrarSesion = function () { window.location.href = "/" }, e.registro = function () { window.location.href = "/registro" }, e } return Object(s.a)(n, [{ key: "render", value: function () { return Object(p.jsx)("div", { children: Object(p.jsxs)(d.a, { bg: "dark", expand: "lg", children: [Object(p.jsx)(h.a, { onClick: this.home, variant: "btn btn-dark ", children: "Servicio Salud" }), Object(p.jsx)(d.a.Toggle, { "aria-controls": "basic-navbar-nav" }), Object(p.jsxs)(d.a.Collapse, { id: "basic-navbar-nav", children: [Object(p.jsx)(b.a, { className: "mr-auto" }), Object(p.jsxs)(u.a, { inline: !0, children: [Object(p.jsx)(h.a, { onClick: this.registro, variant: "outline-primary mx-1", children: "Registrarse Usuario" }), Object(p.jsx)(h.a, { onClick: this.cerrarSesion, variant: "outline-danger", children: "Cerrar sesion" })] })] })] }) }) } }]), n }(c.a.Component), L = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { var e; return Object(o.a)(this, n), (e = t.call(this)).consultarServicios = Object(f.a)(m.a.mark((function t() { return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e.setState({ list: [] }), "http://localhost:4000/api/servicio", t.next = 4, k.a.get("http://localhost:4000/api/servicio").then((function (t) { e.setState({ list: t.data.rows }) })); case 4: case "end": return t.stop() } }), t) }))), e.deleteServicio = function () { var t = Object(f.a)(m.a.mark((function t(n) { var r; return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return console.log(n), r = { id: n }, "http://localhost:4000/api/servicio", t.next = 5, fetch("http://localhost:4000/api/servicio", { method: "DELETE", headers: { "Content-Type": "application/json" }, body: JSON.stringify(r) }).then((function (e) { return e.json() })).then((function (t) { console.log(t), e.consultarServicios() })).catch((function (e) { console.log(e) })); case 5: case "end": return t.stop() } }), t) }))); return function (e) { return t.apply(this, arguments) } }(), e.crearServicio = Object(f.a)(m.a.mark((function t() { var n; return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n = { nombre: e.state.nombre, tipo: e.state.tipo, descripcion: e.state.descripcion }, "http://localhost:4000/api/servicio", t.next = 4, fetch("http://localhost:4000/api/servicio", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(n) }).then((function (e) { return e.json() })).then((function (t) { console.log(t), e.consultarServicios() })).catch((function (e) { console.log(e) })); case 4: case "end": return t.stop() } }), t) }))), e.updateServicio = Object(f.a)(m.a.mark((function t() { var n; return m.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n = { id: e.state.id, nombre: e.state.nombre, tipo: e.state.tipo, descripcion: e.state.descripcion }, "http://localhost:4000/api/servicio", t.next = 4, fetch("http://localhost:4000/api/servicio", { method: "PUT", headers: { "Content-Type": "application/json" }, body: JSON.stringify(n) }).then((function (e) { return e.json() })).then((function (t) { console.log(t), e.consultarServicios() })).catch((function (e) { console.log(e) })); case 4: case "end": return t.stop() } }), t) }))), e.state = { id: "", nombre: "", tipo: "", descripcion: "", list: [] }, e } return Object(s.a)(n, [{ key: "componentDidMount", value: function () { this.consultarServicios() } }, { key: "enviar", value: function (e, t, n, r) { this.setState({ id: e }), this.setState({ nombre: t }), this.setState({ tipo: n }), this.setState({ descripcion: r }) } }, { key: "render", value: function () { var e = this; return Object(p.jsxs)("div", { children: [Object(p.jsx)(T, {}), Object(p.jsxs)("div", { className: "container  mt-5", children: [Object(p.jsx)("h1", { children: "Administrador" }), Object(p.jsxs)("div", { className: "row", children: [Object(p.jsx)("div", { className: "col-sm-4", children: Object(p.jsx)(g.a, { children: Object(p.jsxs)(g.a.Body, { children: [Object(p.jsx)(g.a.Title, { children: "Servicio" }), Object(p.jsxs)(u.a, { children: [Object(p.jsxs)(u.a.Group, { controlId: "formBasicEmail", children: [Object(p.jsx)(u.a.Label, { children: "Nombre:" }), Object(p.jsx)(u.a.Control, { value: this.state.nombre, onChange: function (t) { return e.setState({ nombre: t.target.value }) }, type: "text", placeholder: "Ingrese Nombre" })] }), Object(p.jsxs)(u.a.Group, { controlId: "formBasicEmail", children: [Object(p.jsx)(u.a.Label, { children: "Tipo:" }), Object(p.jsx)(u.a.Control, { value: this.state.tipo, onChange: function (t) { return e.setState({ tipo: t.target.value }) }, type: "text", placeholder: "Ingrese Tipo" })] }), Object(p.jsxs)(u.a.Group, { controlId: "formBasicPassword", children: [Object(p.jsx)(u.a.Label, { children: "Descripci\xf3n:" }), Object(p.jsx)(u.a.Control, { value: this.state.descripcion, onChange: function (t) { return e.setState({ descripcion: t.target.value }) }, type: "text", placeholder: "Ingrese Descripci\xf3n" })] }), Object(p.jsx)(h.a, { className: "mx-1", variant: "primary", type: "button", onClick: this.crearServicio, children: "Guardar" }), Object(p.jsx)(h.a, { onClick: this.updateServicio, variant: "warning", type: "submit", children: "Actualizar" })] })] }) }) }), Object(p.jsx)("div", { className: "col-sm-8", children: Object(p.jsxs)(w.a, { striped: !0, bordered: !0, hover: !0, variant: "dark", children: [Object(p.jsx)("thead", { children: Object(p.jsxs)("tr", { children: [Object(p.jsx)("th", { children: "Id" }), Object(p.jsx)("th", { children: "Name" }), Object(p.jsx)("th", { children: "Tipo" }), Object(p.jsx)("th", { children: "Descripcion" }), Object(p.jsx)("th", { children: "Accion" })] }) }), Object(p.jsx)("tbody", { children: this.state.list.map((function (t) { return Object(p.jsxs)("tr", { children: [Object(p.jsx)("th", { children: t.id }), Object(p.jsx)("th", { children: t.nombre }), Object(p.jsx)("th", { children: t.tipo_servicio }), Object(p.jsx)("th", { children: t.descripcion }), Object(p.jsxs)("th", { children: [Object(p.jsx)(h.a, { onClick: function () { return e.deleteServicio(t.id) }, className: "btn btn-danger mx-1", children: "Eliminar" }), Object(p.jsx)(h.a, { onClick: function () { return e.enviar(t.id, t.nombre, t.tipo_servicio, t.descripcion) }, className: "btn btn-primary", children: "Actualizar" })] })] }, t.id) })) })] }) })] })] })] }) } }]), n }(c.a.Component), B = n(47), E = n(6), A = function (e) { Object(l.a)(n, e); var t = Object(j.a)(n); function n() { return Object(o.a)(this, n), t.apply(this, arguments) } return Object(s.a)(n, [{ key: "render", value: function () { return Object(p.jsx)("div", { children: Object(p.jsx)(B.a, { children: Object(p.jsxs)(E.c, { children: [Object(p.jsx)(E.a, { exact: !0, path: "/", component: x }), Object(p.jsx)(E.a, { path: "/iniciosesion", component: y }), Object(p.jsx)(E.a, { path: "/registro", component: C }), Object(p.jsx)(E.a, { path: "/usuario", component: I }), Object(p.jsx)(E.a, { path: "/administrador", component: L })] }) }) }) } }]), n }(c.a.Component), G = function (e) { e && e instanceof Function && n.e(3).then(n.bind(null, 91)).then((function (t) { var n = t.getCLS, r = t.getFID, c = t.getFCP, a = t.getLCP, i = t.getTTFB; n(e), r(e), c(e), a(e), i(e) })) }; n(82); i.a.render(Object(p.jsx)(c.a.StrictMode, { children: Object(p.jsx)(A, {}) }), document.getElementById("root")), G() } }, [[83, 1, 2]]]);
//# sourceMappingURL=main.5bab4f18.chunk.js.map